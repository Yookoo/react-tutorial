<!DOCTYPE html>
<html>
<head>
	<title>react-tutorial</title>
	<!--browser.js 需要引用6.0.0 以下版本-->
	<script src="https://cdn.bootcss.com/babel-core/5.8.38/browser.js"></script>
	<script src="https://cdn.bootcss.com/react/16.0.0/umd/react.development.js"></script>
	<script src="https://cdn.bootcss.com/react-dom/16.0.0/umd/react-dom.development.js"></script>
	<script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.js"></script>
	<script type="text/babel">
		//组件的声明和java类似
		class Item extends React.Component {
			//构造函数
			constructor(...args){
				super(...args);
			}
			//每一个组件里都必须有一个render方法，用于初始化组件
			render() {
				return (<li>
					{this.props.value}
				</li>
				);
			}
		}


		class List extends React.Component {
			//构造函数
			constructor(...args){
				super(...args);	

				this.state = {
					arr : [1,2,3,4,5]
				}	
			}
			//每一个组件里都必须有一个render方法，用于初始化组件
			render() {

				var result = [];
				var arr = this.state.arr;

				for(var i =0 ;i<arr.length ; i++){
					result.push(<Item key={i} value = {arr[i]}/>);
				}

				return (<div>
					<input type="button" value="添加" onClick={this.fn.bind(this)} />
				<ul>
					{result}
				</ul>
				</div>
				);

			}

			fn(){
				this.setState({
					arr : this.state.arr.concat([Math.random()])
				})
			}
		}

		$(function(){

			var oDiv = $('#clock')[0];
			
			ReactDOM.render(
				<List />,
				oDiv
			);

		});
	</script>
</head>
<body>

	<div id="clock"></div>	

</body>
</html>